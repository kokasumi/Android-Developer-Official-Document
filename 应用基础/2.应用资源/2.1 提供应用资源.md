## 2.1 提供应用资源

> 原文内容可参考[Providing Resources](https://developer.android.com/guide/topics/resources/providing-resources.html)

在开发过程中，应该始终保持应用资源与代码分离，以便能够独立维护。为了能够适配特殊配置的设备型号，还应该为其提供替换资源，将其放到特殊设备对应的资源目录中；在Android运行时，系统能够根据当前设备的配置信息加载合适的资源。

### 分组资源类型

Android开发中的所有资源文件都放到项目`res/`的子目录中，不能直接放到`res/`文件夹下，否则会导致编译时异常。为了方便维护，需要根据资源文件的类型将其放置到不同的资源目录中，Android系统默认支持以下资源目录：

- `animator/` 定义[属性动画](https://developer.android.com/guide/topics/graphics/prop-animation.html)的XML文件。
- `anim/` 定义[补间动画](https://developer.android.com/guide/topics/graphics/view-animation.html#tween-animation)的XML文件。属性动画也可以放到该目录下，但是为了区分这两种动画类型，将属性动画放到`animator/`目录下是最合适的。
- `color/` 定义[Color State List资源](https://developer.android.com/guide/topics/resources/color-list-resource.html)的XML文件。
- `drawable/` 放置Bitmap文件(`.png`, `.9.png`, `.jpg`, `.gif`)或者能够编译为Drawable资源的XML文件，详情可见[Drawable Resources](https://developer.android.com/guide/topics/resources/drawable-resource.html)。
- `mipmap/` 放置不同密度启动图标对应的Drawable文件。
- `layout/` 定义用户界面布局的XML文件。
- `menu/` 定义用户菜单的XML文件。
- `raw/` 以原始格式保存的任意文件。使用[Resources.openRawResource()](https://developer.android.com/reference/android/content/res/Resources.html#openRawResource(int))并传入资源文件ID(`R.raw.filename`)打开相应文件资源[InputStream](https://developer.android.com/reference/java/io/InputStream.html)；如果想要使用原始文件名和文件层次结构访问文件资源，可以将文件放到`assets/`目录中，在`assets/`目录中的文件不会生成资源ID。
- `values/` 定义简单值的XML文件。与其他`res/`子目录不同的是，其他子目录一个XML文件只定义一个单独的资源，但`values/`目录下一个XML文件中可以定义多个资源。其中每一个`<resources>`元素中的每一个子元素定义的都是一个单独的资源，比如`<string>`定义了一个`R.string`资源，`<color>`定义了一个`R.color`资源。该目录下的文件对于资源类型不会有区分，可以将不同类型的资源放到同一个文件中，但为了代码的可维护性，推荐将不同类型的资源放到不同的文件中。其中常见的文件有以下几种：
  - `arrays.xml` 用于定义资源数组
  - `colors.xml` 用于定义颜色
  - `dimens.xml` 用于定义尺寸
  - `strings.xml` 用于定义字符
  - `styles.xml` 用于定义样式
- `xml/` 放置任意的XML文件，可以在运行时调用[Resources.getXML()](https://developer.android.com/reference/android/content/res/Resources.html#getXml(int))读取相关XML文件。各种XML配置文件必须保存在该文件夹下。
- `font/` 放置以`.ttf`, `.otf`, 或者 `.ttc`为后缀名的字体文件，或者包含`<font-family>`元素的XML文件。

### 提供替代资源

使用上面的资源文件夹提供资源只能为设备提供默认资源，但目前市面上的手机千差万别，不同分辨率，不同语言环境，为了对这些手机进行适配，就必须对不同配置的机型提供替代资源。在Android运行时，系统会根据当前设备配置加载合适的资源。一般我们都使用限定符来提供替代资源，在资源文件后加上限定符并使用短横线分隔开，如`drawable-hdpi`，并将替代资源放到限定符文件中。

#### 资源限定符分类

1. **MCC和MNC** 根据设备的SIM卡提供的移动设备国家代码(MCC)以及可选的移动设备网络代码(MNC)来过滤，通俗的讲就是根据SIM卡的网络运营商来过滤。如`mcc460`表示中国境内的SIM卡，`mcc460-mnc00`就表示中国移动。可以单独使用MCC进行过滤，如提供某个国家特殊的法律文件资源，如果只需要根据语言进行限定，可以使用*语言和区域*限定符进行指定。具体的MCC和MNC相关信息可可见[Mobile country code](https://en.wikipedia.org/wiki/Mobile_country_code)。
2. **语言和地区** 